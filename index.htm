<html><head><style>img,div,svg,span,input{position:absolute}.im{width:100.2%;backface-visibility:hidden}
.ico {cursor:pointer;width:32;height:32;}.ico path{stroke-linejoin:round;}.ln{stroke:#000;fill:none}.pt{stroke:#ddd;fill:#fff}.ic{stroke:#000;stroke-width:.5}
.ico:hover{border:2px solid #fff;margin:-2px}.arr{top:-1;width:22;height:24;background-color:#ddd;cursor:pointer}.arr:hover{background-color:#999}.arr:active{background-color:#ccc}
input[type=range]{-webkit-appearance:none;height:0;cursor:pointer}
input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;border: 1px solid #fff;height:28px;width:28px;border-radius:14px;background:#3339;cursor:pointer}
input[type=range]::-moz-range-thumb{-webkit-appearance:none;border: 1px solid #fff;height:28px;width:28px;border-radius:14px;background:#3339;cursor:pointer}
input[type=range]::-webkit-slider-thumb:hover{background:#9999}input[type=range]::-moz-range-thumb:hover{background:#9999}input[type=range]:focus{outline:none;}
.mark{opacity:0.6;position:absolute;text-shadow: 0px 0px 2px black;} .mark:hover{opacity:0.9;cursor:pointer} .mark_ina{position:absolute;text-shadow: 0px 0px 2px black;}
.pp{cursor:pointer} .pp:hover{border: 2px solid #fff; border-radius:17px; margin:-2}</style>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
<meta charset="UTF-8"></head><body id="b" onload="getP()" onresize="rs()" style="overflow: hidden; margin: 0px; font-family: helvetica; cursor: default;">
<div id="base" style="transform: scale(0.5); height: 821.7px; width: 821.7px; perspective: 821.7px; top: -103.85px; left: 29.15px;">
<div id="z_off" style="transform-style: preserve-3d; width: 100%; height: 100%; transform: translateZ(821.7px);">
<div id="rotX" style="transform-style: preserve-3d; width: 100%; height: 100%; transform: rotateX(-12.375deg);">
<div id="inner" style="transform-style:preserve-3d;width:100%;height:100%">
<div id="cube" style="transform-style: preserve-3d; width: 100%; height: 100%; transform: rotateY(675.75deg);">
<img id="i1" class="im" src="img/6f1.webp" style="transform: translateZ(-410.85px);"><img id="i2" class="im" src="img/6r1.webp" style="transform: translateX(410.85px) rotateY(-90deg);">
<img id="i3" class="im" src="img/6l1.webp" style="transform: translateX(-410.85px) rotateY(90deg);"><img id="i4" class="im" src="img/6b1.webp" style="transform: translateZ(410.85px) rotateY(180deg);">
<img id="i5" class="im" src="img/6d1.webp" style="transform: translateY(410.85px) rotateX(90deg);"><img id="i6" class="im" src="img/6u1.webp" style="transform: translateY(-410.85px) rotateX(-90deg);">
<div id="cont" style="width:100%;height:100%">
<div id="p1" style="width:100%;height:100%;transform-style:preserve-3d;transform:rotateY(-90deg);visibility:hidden"><div id="p456447" style="width:100%; height:100%; transform:rotateY(698.375deg) rotateZ(-31deg)"><div style="top:50%">7</div></div>
<div id="p722107" style="width:100%; height:100%; transform:rotateY(813.625deg) rotateZ(12.125deg)"><div style="top:50%">6</div></div>
<div id="p197014" style="width:100%; height:100%; transform:rotateY(746.75deg) rotateZ(-30.875deg)"><div style="top:50%">3</div></div>

<div id="p778922" style="width:100%; height:100%; transform:rotateY(708.375deg) rotateZ(-16.375deg)"><div style="top:50%">2</div></div>
<div id="p123629" style="width:100%; height:100%; transform:rotateY(702.375deg) rotateZ(-6.125deg)"><div style="top:50%">9</div></div>
<div id="p107693" style="width:100%; height:100%; transform:rotateY(-689.625deg) rotateZ(3deg)"><div style="top:50%">10</div></div>
</div>
<div id="p2" style="width:100%;height:100%;transform-style:preserve-3d;transform:rotateY(-90deg);visibility:hidden">
<div id="p372496" style="width:100%; height:100%; transform:rotateY(710.75deg) rotateZ(-5.375deg)"><div style="top:50%">9</div></div>

<div id="p520766" style="width:100%; height:100%; transform:rotateY(542.625deg) rotateZ(-1.625deg)"><div style="top:50%">7</div></div>
<div id="p786552" style="width:100%; height:100%; transform:rotateY(448.75deg) rotateZ(0.875deg)"><div style="top:50%">4</div></div>
<div id="p39120" style="width:100%; height:100%; transform:rotateY(-886.75deg) rotateZ(0.5deg)"><div style="top:50%">8</div></div>
</div>
<div id="p3" style="width:100%;height:100%;transform-style:preserve-3d;transform:rotateY(-90deg);visibility:hidden"></div>
<div id="p4" style="width:100%;height:100%;transform-style:preserve-3d;transform:rotateY(-90deg);visibility:hidden"><div id="p140822" style="width:100%; height:100%; transform:rotateY(309.5deg) rotateZ(-0.875deg)"><div style="top:50%">9</div></div>
<div id="p278767" style="width:100%; height:100%; transform:rotateY(282.25deg) rotateZ(-0.5deg)"><div style="top:50%">2</div></div>
<div id="p416836" style="width:100%; height:100%; transform:rotateY(-639.375deg) rotateZ(-1deg)"><div style="top:50%">5</div></div>
<div id="p46809" style="width:100%; height:100%; transform:rotateY(-527.875deg) rotateZ(21deg)"><div style="top:50%">6</div></div>
<div id="p253383" style="width:100%; height:100%; transform:rotateY(-587.375deg) rotateZ(50deg)"><div style="top:50%">10</div></div>
</div>
<div id="p5" style="width:100%;height:100%;transform-style:preserve-3d;transform:rotateY(-90deg);visibility:hidden"><div id="p232881" style="width:100%; height:100%; transform:rotateY(275.25deg) rotateZ(-0.5deg)"><div style="top:50%">2</div></div>
<div id="p3216" style="width:100%; height:100%; transform:rotateY(-92deg) rotateZ(-1.75deg)"><div style="top:50%">2</div></div>
<div id="p83930" style="width:100%; height:100%; transform:rotateY(-73.875deg) rotateZ(0.625deg)"><div style="top:50%">9</div></div>
<div id="p660338" style="width:100%; height:100%; transform:rotateY(-489.125deg) rotateZ(39.375deg)"><div style="top:50%">10</div></div>
</div>
<div id="p6" style="width:100%;height:100%;transform-style:preserve-3d;transform:rotateY(-90deg);visibility:hidden"><div id="p856880" style="width:100%; height:100%; transform:rotateY(299.25deg) rotateZ(-20.875deg)"><div style="top:50%">7</div></div>
<div id="p605746" style="width:100%; height:100%; transform:rotateY(380deg) rotateZ(-4.375deg)"><div style="top:50%">10</div></div>
<div id="p590315" style="width:100%; height:100%; transform:rotateY(314.125deg) rotateZ(-29.75deg)"><div style="top:50%">3</div></div>
<div id="p915208" style="width:100%; height:100%; transform:rotateY(368.5deg) rotateZ(-16.625deg)"><div style="top:50%">4</div></div>
<div id="p957693" style="width:100%; height:100%; transform:rotateY(300.125deg) rotateZ(-7.5deg)"><div style="top:50%">9</div></div>
</div>
<div id="p7" style="width:100%;height:100%;transform-style:preserve-3d;transform:rotateY(-90deg);visibility:hidden">
<div id="p798719" style="width:100%; height:100%; transform:rotateY(518.625deg) rotateZ(29.375deg)"><div style="top:50%">1</div></div>
<div id="p743624" style="width:100%; height:100%; transform:rotateY(360.125deg) rotateZ(-0.625deg)"><div style="top:50%">2</div></div>
<div id="p982764" style="width:100%; height:100%; transform:rotateY(343.125deg) rotateZ(-0.75deg)"><div style="top:50%">9</div></div>
<div id="p763329" style="width:100%; height:100%; transform:rotateY(-600.125deg) rotateZ(21.625deg)"><div style="top:50%">6</div></div>
<div id="p377563" style="width:100%; height:100%; transform:rotateY(-894.25deg) rotateZ(0.125deg)"><div style="top:50%">8</div></div>
</div>
<div id="p8" style="width:100%;height:100%;transform-style:preserve-3d;transform:rotateY(-90deg);visibility:hidden">
<div id="p405917" style="width:100%; height:100%; transform:rotateY(352.875deg) rotateZ(-1deg)"><div style="top:50%">9</div></div>
<div id="p140697" style="width:100%; height:100%; transform:rotateY(380.75deg) rotateZ(19deg)"><div style="top:50%">1</div></div>
<div id="p145082" style="width:100%; height:100%; transform:rotateY(366.75deg) rotateZ(-0.125deg)"><div style="top:50%">2</div></div>
</div>
<div id="p9" style="width:100%;height:100%;transform-style:preserve-3d;transform:rotateY(-90deg);visibility:hidden"><div id="p412537" style="width:100%; height:100%; transform:rotateY(527deg) rotateZ(9.25deg)"><div style="top:50%">1</div></div>
<div id="p181103" style="width:100%; height:100%; transform:rotateY(-581.75deg) rotateZ(-0.25deg)"><div style="top:50%">2</div></div>
<div id="p141544" style="width:100%; height:100%; transform:rotateY(-605.75deg) rotateZ(0.625deg)"><div style="top:50%">4</div></div>
<div id="p103259" style="width:100%; height:100%; transform:rotateY(-615.25deg) rotateZ(1.125deg)"><div style="top:50%">5</div></div>
<div id="p726521" style="width:100%; height:100%; transform:rotateY(-609.375deg) rotateZ(11deg)"><div style="top:50%">10</div></div>
<div id="p240485" style="width:100%; height:100%; transform:rotateY(-595.125deg) rotateZ(2.875deg)"><div style="top:50%">3</div></div>
<div id="p290284" style="width:100%; height:100%; transform:rotateY(-554.375deg) rotateZ(0.875deg)"><div style="top:50%">7</div></div>
<div id="p909462" style="width:100%; height:100%; transform:rotateY(-541.625deg) rotateZ(0.625deg)"><div style="top:50%">8</div></div>
</div>
<div id="p10" style="width:100%;height:100%;transform-style:preserve-3d;transform:rotateY(-90deg);visibility:hidden"><div id="p62149" style="width:100%; height:100%; transform:rotateY(291.375deg) rotateZ(-6.125deg)"><div style="top:50%">9</div></div>
<div id="p721674" style="width:100%; height:100%; transform:rotateY(581.375deg) rotateZ(2deg)"><div style="top:50%">1</div></div>
<div id="p977497" style="width:100%; height:100%; transform:rotateY(283.375deg) rotateZ(-18deg)"><div style="top:50%">2</div></div>

<div id="p563758" style="width:100%; height:100%; transform:rotateY(-431.5deg) rotateZ(-28.5deg)"><div style="top:50%">4</div></div>
<div id="p513002" style="width:100%; height:100%; transform:rotateY(-523.875deg) rotateZ(3.125deg)"><div style="top:50%">6</div></div>
</div></div></div></div></div></div></div>
<span id="container" style="right:46;top:7">
<img id="v_1" class="ico" onclick="v='1';set_faces()" style="user-select: none; visibility: visible; right: 160px; top: 0px;" src="ico\1.svg">
<img id="v_2" class="ico" onclick="v='2';set_faces()" style="user-select: none; visibility: visible; right: 120px; top: 0px;" src="ico\2.svg">
<img id="v_3" class="ico" onclick="v='3';set_faces()" style="user-select: none; visibility: visible; right: 80px; top: 0px;" src="ico\3.svg">
<img id="v_4" class="ico" onclick="v='4';set_faces()" style="user-select: none; visibility: visible; right: 40px; top: 0px;" src="ico/4.svg">
<img id="v_5" class="ico" onclick="v='5';set_faces()" style="user-select: none; visibility: visible; right: 0px; top: 0px;" src="ico\5.svg">
<img id="v_6" class="ico" onclick="v='6';set_faces()" style="user-select: none; visibility: hidden; right: 0px;" src="ico\6.svg">
<img id="v_7" class="ico" onclick="v='7';set_faces()" style="user-select: none; visibility: hidden; right: 0px;" src="ico\7.svg">
<img id="v_8" class="ico" onclick="v='8';set_faces()" style="user-select: none; visibility: hidden; right: 0px;" src="ico\8.svg">
<img id="v_9" class="ico" onclick="v='9';set_faces()" style="user-select: none; visibility: hidden; right: 0px;" src="ico\9.svg">
<img id="v_10" class="ico" onclick="v='10';set_faces()" style="user-select: none; visibility: hidden; right: 0px;" src="ico\10.svg"></span>
<svg id="fsc" style="right: 7px; top: 7px; transform: translateZ(0px); user-select: none; visibility: visible;" onclick="fs()" class="ico"><path class="pt" d="M0.5,0.5 31.5,0.5 31.5,31.5 0.5,31.5Z"></path><path class="ln" d="M6,12 v-6 h6 M20,6 h6 v6 M26,20 v6 h-6 M12,26 h-6 v-6"></path></svg>
<svg id="zom" style="right: 7px; top: 46px; transform: translateZ(0px); user-select: none; visibility: visible;" onclick="zm()" class="ico"><path class="pt" d="M0.5,0.5 31.5,0.5 31.5,31.5 0.5,31.5Z"></path><path class="ln" id="z" d="M10,16 h12 M16,10 v12"></path></svg>
<svg id="map" style="right: 7px; top: 85px; transform: translateZ(0px); user-select: none; visibility: visible;" onclick="mp()" class="ico"><path class="pt" d="M0.5,0.5 31.5,0.5 31.5,31.5 0.5,31.5Z"></path>
<path fill="#666" d="M16,26 10,14 A10,10 0 0 1 9,10 A1,1 0 0 1 23,10 A10,10 0 0 1 22,14 z"></path>
<path fill="none" stroke="#000" d="M18,22 A8,3 0 0 1 24,25 A8,3 0 0 1 8,25 A8,3 0 0 1 14,22"></path><path fill="#fff" d="M13.5,10 A1,1 0 0 1 18.5,10 A1,1 0 0 1 13.5,10"></path></svg>
<svg id="scl_bg" style="right:8;top:214;transform:translateZ(0);visibility:hidden" onclick="fs()" width="29" height="64"><path fill="none" stroke="#aaa" stroke-width="4" d="M2,1 15,64 27,1 M8,7 22,7 M15,0 15,14"></path>
<path fill="none" stroke="white" stroke-width="2" d="M2,2 15,63 27,2 M9,7 21,7 M15,1 15,13"></path></svg>
<input id="scl" style="right:-24;top:243;width:89;transform:translateZ(0);transform:rotateZ(90deg);visibility:hidden" type="range" value="70" oninput="zoom()">
<svg id="gy0" style="right: 7px; top: 124px; transform: translateZ(0px); visibility: visible;" onclick="gy()" class="ico"><path class="pt" d="M0.5,0.5 31.5,0.5 31.5,31.5 0.5,31.5Z"></path>
<path class="ln" d="M9.5,27.5 9.5,4.5 10.5,3.5 21.5,3.5 22.5,4.5 22.5,27.5 21.5,28.5 10.5,28.5 z M9,6.5 23,6.5 M 9,24.5 23,24.5 M14,26.5 18,26.5"></path>
<path id="g1" class="ln" d="M14,15 17,18 14,21 M20,18 A8,3 0 0 0 28,15 A8,3 0 0 0 23,12 M7,12 A8,3 0 0 0 4,15 A8,3 0 0 0 8,17.3 M8,17.3 14,18 17,18"></path></svg>
<span id="counter" style="left: calc(50% - 22px); bottom: 16px; user-select: none; background-color: white; font-size: 18px; padding: 2px 6px 0px; height: 22px; transform: translateZ(0px); border: 1px solid black; visibility: visible;">
<div class="arr" style="left:-23;border-radius:14px 0 0 14px;border:1px solid black;border-right:#fff" onclick="l()"></div><font id="current">6</font> / <font id="total">10</font>
<div class="arr" style="right:-23;border-radius:0 14px 14px 0;border:1px solid black;border-left:#fff" onclick="r()"></div></span>
<svg id="cross" style="left: calc(50% - 50px); top: calc(50% - 50px); transform: translateZ(0px); width: 100px; height: 100px; visibility: hidden;"><path class="ln" d="M50.5,0 50.5,100 M0,50.5 100,50.5"></path></svg>
<img id="map_img" style="transform: translateZ(0px); visibility: visible; user-select: none;" src="ico/map.webp"><div id="map_main" style="transform: translateZ(0px); visibility: visible; user-select: none;"> <font class="mark" id="m1" style="left:63;top:95" onclick="p=1; set_faces();">⚪</font> <font class="mark" id="m2" style="left:65;top:227" onclick="p=2; set_faces();">⚪</font>  <font class="mark" id="m3" style="left:101;top:176" onclick="p=3; set_faces();">⚪</font>  <font class="mark" id="m4" style="left:151;top:240" onclick="p=4; set_faces();">⚪</font> <font class="mark" id="m5" style="left:220;top:245" onclick="p=5; set_faces();">⚪</font> <font class="mark_ina" id="m6" style="left:133;top:89" onclick="p=6; set_faces();">⚪</font> <font class="mark" id="m7" style="left:44;top:133" onclick="p=7; set_faces();">⚪</font>  <font class="mark" id="m8" style="left:14;top:9" onclick="p=8; set_faces();">⚪</font> <font class="mark" id="m9" style="left:13;top:275" onclick="p=9; set_faces();">⚪</font> <font class="mark" id="m10" style="left:177;top:209" onclick="p=10; set_faces();">⚪</font></div><div id="jumps_" style="user-select:none"><img src="ico\jump.svg" class="pp" id="pp856880" onclick="p=7; set_faces()" style="left: -2058.01px; top: -939.673px; visibility: hidden;"><img src="ico\jump.svg" class="pp" id="pp605746" onclick="p=10; set_faces()" style="left: 608.026px; top: 236.338px; visibility: visible;"><img src="ico\jump.svg" class="pp" id="pp590315" onclick="p=3; set_faces()" style="left: 3503.26px; top: 2194.9px; visibility: hidden;"><img src="ico\jump.svg" class="pp" id="pp915208" onclick="p=4; set_faces()" style="left: 700.749px; top: 347.456px; visibility: visible;"><img src="ico\jump.svg" class="pp" id="pp957693" onclick="p=9; set_faces()" style="left: -1564.85px; top: -171.789px; visibility: hidden;"></div>
<div id="variants" style="display:none"> -10_1 -10_2 -10_3 -10_4 -10_5 -1_1 -1_2 -1_3 -1_4 -1_5 -2_1 -2_2 -2_3 -2_4 -2_5 -3_1 -3_2 -3_3 -3_4 -3_5 -4_1 -4_2 -4_3 -4_4 -4_5 -5_1 -5_2 -5_3 -5_4 -5_5 -6_1 -6_2 -6_3 -6_4 -6_5 -7_1 -7_2 -7_3 -7_4 -7_5 -8_1 -8_2 -8_3 -8_4 -8_5 -9_1 -9_2 -9_3 -9_4 -9_5</div><div id="format" style="display:none">.webp</div>
<script> x=y=px=py=e=t=fss=max=gyo=xx=yy=0; scale=0.55; rs(); onmousedown=mousedown; ontouchstart=touchdown;onmouseup=function(){window.onmousemove=null}
if (!/Mobi/.test(navigator.userAgent)){gy0.style.visibility="hidden"}
else {if(fsc.style.visibility=='hidden' && zom.style.visibility=='hidden' && map.style.visibility=='hidden' && gy1.style.visibility=="visible"){
v_1.style.right=parseInt(v_1.style.right)+39;v_2.style.right=parseInt(v_2.style.right)+39;v_3.style.right=parseInt(v_3.style.right)+39;v_4.style.right=parseInt(v_4.style.right)+39;v_5.style.right=parseInt(v_5.style.right)+39;
v_6.style.right=parseInt(v_6.style.right)+39;v_7.style.right=parseInt(v_7.style.right)+39;v_8.style.right=parseInt(v_8.style.right)+39;v_9.style.right=parseInt(v_9.style.right)+39;v_10.style.right=parseInt(v_10.style.right)+39}}
function rs(){base.style.width=base.style.height=t=(document.body.clientWidth+document.body.clientHeight)*scale
base.style.perspective = t + "px"; z_off.style.transform = "translateZ("+t+"px)"; base.style.top = (document.body.clientHeight-t)/2; base.style.left = (document.body.clientWidth-t)/2
i1.style.transform="translateZ(-"+t/2+"px)";i2.style.transform = "translateX("+t/2+"px) rotateY(-90deg)";i3.style.transform="translateX(-"+t/2+"px) rotateY(90deg)"
i4.style.transform="translateZ("+t/2+"px) rotateY(180deg)";i5.style.transform = "translateY("+t/2+"px) rotateX(90deg)";i6.style.transform = "translateY(-"+t/2+"px) rotateX(-90deg)"
if(typeof p !== 'undefined') jumps_position()}
function mousedown(event){e=event; xx=e.clientX; yy=e.clientY; console.log("click");
x=e.clientX + parseFloat(cube.style.transform.replace("deg)",'').replace("rotateY(",''))*8
y=e.clientY - parseFloat(rotX.style.transform.replace("deg)",'').replace("rotateX(",''))*8
window.onmousemove=m; if(navigator.userAgent.search("Firefox") > -1 && e.target.id != "scl"){e.preventDefault()}}
function touchdown(event){e=event; x=e.touches[0].clientX + parseFloat(cube.style.transform.replace("deg)",'').replace("rotateY(",''))*2
y=e.touches[0].clientY - parseFloat(rotX.style.transform.replace("deg)",'').replace("rotateX(",''))*3; window.ontouchmove = mt}
function m(e) {if(e.target.id == "scl") return; e.preventDefault()
z_off.style.transform = "translateZ("+t+"px)";px=(x-e.clientX)/8; py=(y-e.clientY)/8; if(py>90) {py=90; y=e.clientY+py*8} if(py<-90){py=-90;y=e.clientY+py*8}
cube.style.transform = "rotateY(" + px + "deg)";rotX.style.transform="rotateX(" + -py + "deg)"; jumps_position()}
function mt(e) {z_off.style.transform = "translateZ("+t+"px)"; px=(x - e.touches[0].clientX)/2; cube.style.transform="rotateY(" + px + "deg)"
py=(y-e.touches[0].clientY)/3; if(py > 90) {py=90; y=e.touches[0].clientY+py*3} if(py < -90) {py=-90; y=e.touches[0].clientY+py*3} rotX.style.transform = "rotateX("+-py+"deg)"; jumps_position()}
function fs(){if (!fss){fss=1;b.requestFullscreen();}else{fss=0;document.exitFullscreen()}}
function zm(){if(!max){z.setAttribute("d","M10,16 h12");max=1;scale=1.1;rs();scl.value=54}else{z.setAttribute("d","M10,16 h12 M16,10 v12");max=0;scale=0.6;rs();scl.value=84}}
function gy(){if(!gyo) {g1.setAttribute("d","");g1.setAttribute("d","M14,16 a1,1 0 0 0 4,0 a1,1 0 0 0 -4,0");gyo=1; window.addEventListener('deviceorientation', rotate3D)}
else{g1.setAttribute("d","M14,15 17,18 14,21 M20,18 A8,3 0 0 0 28,15 A8,3 0 0 0 23,12 M7,12 A8,3 0 0 0 4,15 A8,3 0 0 0 8,17.3 M8,17.3 14,18 17,18");gyo=0;window.removeEventListener('deviceorientation', rotate3D)}}
function getP(){url=new URL(window.location.href); p=url.searchParams.get("p"); if(!p) p=current.innerHTML; v = url.searchParams.get("v");if(!v) v=parseInt(i1.src.match( /\d(?=\.webp$)|\d(?=\.jpg$)/g ));current.innerHTML=p; set_faces();}
function zoom(){scale=(120-scl.value)/60; if(scl.value>84){z.setAttribute("d","M10,16 h12 M16,10 v12");max=0} if(scl.value<54){z.setAttribute("d","M10,16 h12");max=1} rs()}
function mp(){if(map_img.style.visibility=="visible") map_img.style.visibility=map_main.style.visibility="hidden"; else map_img.style.visibility=map_main.style.visibility="visible"}
function r(){current.innerHTML=parseInt(current.innerHTML)+1;if(parseInt(current.innerHTML)>parseInt(total.innerHTML)){current.innerHTML=1;} p=parseInt(current.innerHTML); set_faces();}
function l(){current.innerHTML=parseInt(current.innerHTML)-1;if(parseInt(current.innerHTML)<1){current.innerHTML=parseInt(total.innerHTML);} p=parseInt(current.innerHTML); set_faces();}
function set_faces(){for(i=0; i < document.getElementById("map_main").children.length; i++){if(parseInt(document.getElementById("map_main").children[i].id.slice(1))==p)
document.getElementById("map_main").children[i].className="mark_ina"; else document.getElementById("map_main").children[i].className="mark"}
current.innerHTML=p; jumps_.innerHTML=""; if (document.getElementById("p" + p)) for(i=0; i < document.getElementById("p" + p).children.length; i++){
jumps_.innerHTML+="<img src=ico\\jump.svg class=pp id='pp" + document.getElementById("p" + p).children[i].id.slice(1) + "' onclick='p="+ document.getElementById("p" + p).children[i].firstChild.innerHTML +"; set_faces()'>"}
jumps_position(); tt=variants.innerHTML.includes("-"+p+"_"+v); tmp=nl=num=0;for(vv = 1; vv<=10; vv++){document.getElementById("v_"+vv).style.visibility = "hidden"
if(variants.innerHTML.includes("-"+p+"_"+vv)){ if(!tt) {tt=false; v=vv} num++; el=document.getElementById("v_" + vv).style;
if(num>=2) {el.visibility="visible"; elp.visibility="visible"} elp=document.getElementById("v_" + vv).style; el.right=160-tmp; tmp=tmp+40; el.top=nl; if(tmp>=200){tmp = 0; nl=40}}}
i1.src="img/"+p+"f"+v+format.innerHTML;i2.src="img/"+p+"r"+v+format.innerHTML;i3.src="img/"+p+"l"+v+format.innerHTML
i4.src="img/"+p+"b"+v+format.innerHTML;i5.src="img/"+p+"d"+v+format.innerHTML;i6.src="img/"+p+"u"+v+format.innerHTML
if(navigator.userAgent.search("Firefox") <= -1){i1.decode();i2.decode();i3.decode();i4.decode();i5.decode();i6.decode()}}
function jumps_position(){if (document.getElementById("p" + p)) for (i=0;i<document.getElementById("p" + p).children.length;i++){
jumps_.children[i].style.left = document.getElementById("p" + p).children[i].firstChild.getBoundingClientRect().left - 16
jumps_.children[i].style.top  = document.getElementById("p" + p).children[i].firstChild.getBoundingClientRect().top - 16
var lat = parseFloat(document.getElementById("p" + p).children[i].style.transform.match(/rotateY\([-.0-9]+/g).toString().split("(")[1])
var lon = parseFloat(document.getElementById("p" + p).children[i].style.transform.match(/rotateZ\([-.0-9]+/g).toString().split("(")[1])
var dLat = (-py-lon) * Math.PI/180; var dLon = (-px-lat) * Math.PI/180
var a = Math.sin(dLat/2) * Math.sin(dLat/2) + Math.sin(dLon/2) * Math.sin(dLon/2) * Math.cos(lon* Math.PI / 180) * Math.cos(-py * Math.PI / 180)
if(Math.atan2(Math.sqrt(a), Math.sqrt(1-a)) > .6) jumps_.children[i].style.visibility="hidden"; else jumps_.children[i].style.visibility="visible"}}
function rotate(vec, axis, angle) {var c=Math.cos(angle*Math.PI/180.0), s=Math.sin(angle*Math.PI/180.0), x=axis[0],y=axis[1],z=axis[2],
rm00=c+x*x*(1-c), rm10=z*s+y*x*(1-c), rm20=-y*s+z*x*(1-c), rm01=-z*s+x*y*(1-c), rm11=c+y*y*(1-c), rm21=x*s+z*y*(1-c), rm02=y*s+x*z*(1-c), rm12=-x*s+y*z*(1-c), rm22=c+z*z*(1-c);
return Array( rm00*vec[0]+rm01*vec[1]+rm02*vec[2], rm10*vec[0]+rm11*vec[1]+rm12*vec[2], rm20*vec[0]+rm21*vec[1]+rm22*vec[2])}
function rotate3D(e){if(window.orientation==90) var default_angle=-90; else if(window.orientation==-90) default_angle=90; else default_angle=0;
var default_x=rotate(Array(1,0,0), Array(0,0,1), default_angle), default_y=rotate(Array(0,1,0), Array(0,0,1), default_angle), axis_y=default_y,
axis_x=rotate(default_x, axis_y, -e.gamma), axis_z=rotate(rotate(Array(0,0,1), axis_y, -e.gamma), axis_x, e.beta);
inner.style.transform ="rotate3d("+axis_z[0]+","+axis_z[1]+","+axis_z[2]+","+e.alpha+"deg)"+"rotate3d("+axis_x[0]+","+axis_x[1]+","+axis_x[2]+","+e.beta+"deg)"+
"rotate3d("+axis_y[0]+","+axis_y[1]+","+axis_y[2]+","+-e.gamma+"deg)"+"rotateX(-90deg) rotateY(" + (-90-default_angle) + "deg) "}</script></body></html>